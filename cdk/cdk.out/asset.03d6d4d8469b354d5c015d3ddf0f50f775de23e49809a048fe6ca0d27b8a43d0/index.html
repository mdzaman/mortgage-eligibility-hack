<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Eligibility & Pricing Engine</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mortgage Eligibility & Pricing Engine</h1>
            <p>Comprehensive mortgage underwriting and pricing analysis</p>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>Loan Application</h2>
                
                <div class="preset-buttons">
                    <button type="button" class="btn btn-secondary" onclick="loadPresets()">Load Presets</button>
                </div>

                <div id="presetSelection" style="display: none;">
                    <h3>Select a Preset Scenario:</h3>
                    <div id="presetRadios"></div>
                    <button type="button" class="btn btn-secondary" onclick="applySelectedPreset()">Apply Selected Preset</button>
                </div>

                <form id="mortgageForm">
                    <div class="form-section">
                        <h3>Borrower Profile</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="credit_score">Credit Score</label>
                                <input type="number" id="credit_score" name="credit_score" required>
                            </div>
                            <div class="form-group">
                                <label for="gross_monthly_income">Gross Monthly Income</label>
                                <input type="number" id="gross_monthly_income" name="gross_monthly_income" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="monthly_debts">Monthly Debts</label>
                                <input type="number" id="monthly_debts" name="monthly_debts" required>
                            </div>
                            <div class="form-group">
                                <label for="num_financed_properties">Number of Financed Properties</label>
                                <input type="number" id="num_financed_properties" name="num_financed_properties" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="first_time_homebuyer" name="first_time_homebuyer">
                                    <label for="first_time_homebuyer">First Time Homebuyer</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="owns_property_last_3yrs" name="owns_property_last_3yrs">
                                    <label for="owns_property_last_3yrs">Owns Property Last 3 Years</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="liquid_assets">Liquid Assets</label>
                                <input type="number" id="liquid_assets" name="liquid_assets" required>
                            </div>
                            <div class="form-group">
                                <label for="ami_ratio">AMI Ratio</label>
                                <input type="number" step="0.01" id="ami_ratio" name="ami_ratio">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Property Profile</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="purchase_price">Purchase Price</label>
                                <input type="number" id="purchase_price" name="purchase_price">
                            </div>
                            <div class="form-group">
                                <label for="appraised_value">Appraised Value</label>
                                <input type="number" id="appraised_value" name="appraised_value" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="units">Units</label>
                                <select id="units" name="units" required>
                                    <option value="1">1 Unit</option>
                                    <option value="2">2 Units</option>
                                    <option value="3">3 Units</option>
                                    <option value="4">4 Units</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="property_type">Property Type</label>
                                <select id="property_type" name="property_type" required>
                                    <option value="SFR">Single Family Residence</option>
                                    <option value="Condo">Condominium</option>
                                    <option value="Townhome">Townhome</option>
                                    <option value="Coop">Cooperative</option>
                                    <option value="Manufactured">Manufactured Home</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="occupancy">Occupancy</label>
                                <select id="occupancy" name="occupancy" required>
                                    <option value="Primary">Primary Residence</option>
                                    <option value="Secondary">Secondary Residence</option>
                                    <option value="Investment">Investment Property</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="condition_rating">Condition Rating</label>
                                <select id="condition_rating" name="condition_rating" required>
                                    <option value="C1">C1 - Excellent</option>
                                    <option value="C2">C2 - Good</option>
                                    <option value="C3">C3 - Average</option>
                                    <option value="C4">C4 - Below Average</option>
                                    <option value="C5">C5 - Poor</option>
                                    <option value="C6">C6 - Unsatisfactory</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="checkbox-group">
                                <input type="checkbox" id="is_high_cost_area" name="is_high_cost_area">
                                <label for="is_high_cost_area">High Cost Area</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Loan Terms</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loan_amount">Loan Amount</label>
                                <input type="number" id="loan_amount" name="loan_amount" required>
                            </div>
                            <div class="form-group">
                                <label for="note_rate">Note Rate (%)</label>
                                <input type="number" step="0.001" id="note_rate" name="note_rate" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="term_months">Term (Months)</label>
                                <select id="term_months" name="term_months" required>
                                    <option value="360">30 Years (360 months)</option>
                                    <option value="180">15 Years (180 months)</option>
                                    <option value="240">20 Years (240 months)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="purpose">Purpose</label>
                                <select id="purpose" name="purpose" required>
                                    <option value="Purchase">Purchase</option>
                                    <option value="Refinance">Refinance</option>
                                    <option value="CashOut">Cash-Out Refinance</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Mortgage Insurance</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mi_type">MI Type</label>
                                <select id="mi_type" name="mi_type">
                                    <option value="">None</option>
                                    <option value="BPMI">Borrower Paid MI</option>
                                    <option value="LPMI">Lender Paid MI</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="mi_coverage_pct">MI Coverage (%)</label>
                                <input type="number" step="0.01" id="mi_coverage_pct" name="mi_coverage_pct">
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary">Evaluate Mortgage</button>
                </form>
            </div>

            <div class="card">
                <h2>Results</h2>
                
                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <p>Analyzing mortgage eligibility...</p>
                </div>

                <div id="emptyState" class="empty-state">
                    <p>Submit the form to see mortgage eligibility and pricing results.</p>
                </div>

                <div id="results" class="results" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
